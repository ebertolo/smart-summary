# Backend Environment Variables Template
# Copy this file to .env and fill in your actual values

# ============================================
# LLM API KEYS (at least one required)
# ============================================
# Anthropic Claude API Key (Get from: https://console.anthropic.com/)
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# OpenAI API Key (Optional - not currently used)
OPENAI_API_KEY=your-openai-api-key-here


# ============================================
# SECURITY CONFIGURATION
# ============================================
# JWT Secret - MUST be changed in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# Demo User Password (for development/testing only)
# Used by scripts/init_db.py when creating default demo user
DEMO_USER_PASSWORD=password_to_used


# ============================================
# LLM PROVIDER CONFIGURATION
# ============================================
# LLM Provider: only "anthropic" is supported
LLM_PROVIDER=anthropic

# Claude Model 
LLM_MODEL=claude-sonnet-4-5-20250929

# LLM Generation Parameters
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=4096


# ============================================
# CORS CONFIGURATION
# ============================================
# Allowed origins (JSON array format)
# For development:
CORS_ORIGINS=["http://localhost:3000","http://localhost:3001"]
# For production, add your domain:
# CORS_ORIGINS=["http://localhost:3000","https://your-app.vercel.app"]


# ============================================
# TEXT PROCESSING LIMITS
# ============================================
# Maximum text length in characters (300K = ~75K tokens)
MAX_TEXT_LENGTH=300000

# Minimum text length in characters
MIN_TEXT_LENGTH=100

# Base chunk size for text splitting (100K chars = ~25K tokens)
CHUNK_SIZE=100000

# Overlap between chunks (helps maintain context)
CHUNK_OVERLAP=1000

# Strategy-specific chunk sizes
HIERARCHICAL_CHUNK_SIZE=100000
DETAILED_CHUNK_SIZE=100000


# ============================================
# DATABASE CONFIGURATION
# ============================================
# SQLite database (file will be committed to repository)
# The database is pre-initialized with demo user
DATABASE_URL=sqlite+aiosqlite:///./smart_summary.db


# ============================================
# ENVIRONMENT
# ============================================
# Environment: development or production
PYTHON_ENV=development


# ============================================
# NOTES
# ============================================
# 1. Database: SQLite file (smart_summary.db) is committed to repo
#    with demo user already created. No need to run init_db.py
#
# 2. Demo User Credentials (DEVELOPMENT/TESTING ONLY):
#    Username: demo
#    Password: Set via DEMO_USER_PASSWORD (default: demo123)
#    ⚠️  WARNING: Change DEMO_USER_PASSWORD in production or create new users!
#    Create production users with: python scripts/init_db.py --username admin --password SECURE_PASSWORD
#
# 3. For production deployment:
#    - Change JWT_SECRET to a secure random value
#    - Change DEMO_USER_PASSWORD or don't use demo user
#    - Update CORS_ORIGINS with your frontend URL
#    - Set PYTHON_ENV=production
#    - Create new users with strong passwords
#    - Consider using PostgreSQL instead of SQLite
#
# 4. CHUNK_SIZE values are optimized for Claude's context window:
#    - 100K chars ≈ 25K tokens
#    - Ensures optimal performance and API efficiency
